!function(){"use strict";var e=function(){function e(){this.remainingFilesToProcess=0,this.files=[],this.fileblobs=[],this.glbfilename,this.gltf,this.outputBuffers,this.bufferMap,this.bufferOffset,this.gltfMimeTypes={"image/png":["png"],"image/jpeg":["jpg","jpeg"],"text/plain":["glsl","vert","vs","frag","fs","txt"],"image/vnd-ms.dds":["dds"]}}var t=e.prototype;return t.convert=function(e,t){if(e&&"function"==typeof t){this.callback=t,this.remainingFilesToProcess=e.length;for(var i=0;i<e.length;i++){var r=void 0;if(e[i].getAsEntry?r=e[i].getAsEntry():e[i].webkitGetAsEntry&&(r=e[i].webkitGetAsEntry()),r){if(r.isFile)return void t({error:H5PEditor.t("H5PEditor.ThreeDModelLoader","notAFolder")});this.traverseFileTree(r)}}}},t.traverseFileTree=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e.isFile)e.file((function(e){var i;if(t.files.push(e),"gltf"===e.name.split(".").pop()){t.glbfilename=e.name.substr(e.name.lastIndexOf("/")+1,e.name.lastIndexOf("."));var r=new FileReader;r.readAsText(e),r.onload=function(e){t.gltf=JSON.parse(e.target.result),t.checkForDone()}}else{var n=new FileReader;n.onload=(i=e,function(e){t.fileblobs[i.name.toLowerCase()]=e.target.result,t.checkForDone()}),n.readAsArrayBuffer(e)}}),(function(e){t.callback({error:e})}));else if(e.isDirectory){var r=e.createReader();r.readEntries((function(r){t.remainingFilesToProcess+=r.length,t.checkForDone();for(var n=0;n<r.length;n++)t.traverseFileTree(r[n],i+e.name+"/")}))}},t.checkForDone=function(){var e=this;this.remainingFilesToProcess--,0===this.remainingFilesToProcess&&(this.outputBuffers=[],this.bufferMap=new Map,this.bufferOffset=0,this.processBuffers().then((function(){e.callback({file:e.buildOutputFile()})})).catch((function(t){e.callback({error:t})})))},t.processBuffers=function(){var e=this;if(!this.gltf)return Promise.reject(H5PEditor.t("H5PEditor.ThreeDModelLoader","noGLTFFound"));var t=this.gltf.buffers.map((function(t,i){return e.getDataFromUri(t).then((function(r){void 0!==r&&e.outputBuffers.push(r),delete t.uri,t.byteLength=r.byteLength,e.bufferMap.set(i,e.bufferOffset),e.bufferOffset+=e.getAlignedLength(r.byteLength)}))}));return Promise.all(t).then((function(){var t=e.gltf.buffers.length,i=(e.gltf.images||[]).map((function(i){return e.getDataFromUri(i).then((function(r){if(void 0!==r){var n={buffer:0,byteOffset:e.bufferOffset,byteLength:r.byteLength};e.bufferMap.set(t,e.bufferOffset),t++,e.bufferOffset+=e.getAlignedLength(r.byteLength);var o=e.gltf.bufferViews.length;e.gltf.bufferViews.push(n),e.outputBuffers.push(r),i.bufferView=o,i.mimeType=e.getMimeType(i.uri),delete i.uri}else delete i.uri}))}));return Promise.all(i)}))},t.buildOutputFile=function(){for(var e=0,t=this.gltf.bufferViews;e<t.length;e++){var i=t[e];void 0===i.byteOffset?i.byteOffset=0:i.byteOffset=i.byteOffset+this.bufferMap.get(i.buffer),i.buffer=0}var r=this.bufferOffset;this.gltf.buffers=[{byteLength:r}];var n,o=(new TextEncoder).encode(JSON.stringify(this.gltf)),a=this.getAlignedLength(o.length);a!==o.length&&(n=a-o.length);var s=20+a+8+r,d=new ArrayBuffer(s),l=new DataView(d),c=0;l.setUint32(c,1179937895,!0),c+=4,l.setUint32(c,2,!0),c+=4,l.setUint32(c,s,!0),c+=4,l.setUint32(c,a,!0),c+=4,l.setUint32(c,1313821514,!0),c+=4;for(var h=0;h<o.length;h++)l.setUint8(c,o[h]),c++;if(void 0!==n)for(var f=0;f<n;f++)l.setUint8(c,32),c++;l.setUint32(c,r,!0),c+=4,l.setUint32(c,5130562,!0),c+=4;for(var u=0;u<this.outputBuffers.length;u++)for(var p=c+this.bufferMap.get(u),m=new Uint8Array(this.outputBuffers[u]),v=p,A=0;A<m.byteLength;A++)l.setUint8(v,m[A]),v++;return new Blob([d],{type:"model/json-binary"})},t.isBase64=function(e){return!(e.length<5)&&"data:"===e.substr(0,5)},t.decodeBase64=function(e){return fetch(e).then((function(e){return e.arrayBuffer()}))},t.getDataFromUri=function(e){if(void 0===e.uri)return Promise.resolve();if(this.isBase64(e.uri))return this.decodeBase64(e.uri);var t=e.uri.substr(e.uri.lastIndexOf("/")+1);return Promise.resolve(this.fileblobs[t.toLowerCase()])},t.getAlignedLength=function(e){if(0===e)return e;var t=e%4;return 0===t?e:e+(4-t)},t.getMimeType=function(e){for(var t in this.gltfMimeTypes)for(var i in this.gltfMimeTypes[t]){var r=this.gltfMimeTypes[t][i];if(e.toLowerCase().split(".").pop()==="".concat(r))return t}return"application/octet-stream"},e}(),t=function(){function t(t){var i=this;this.callback=t||function(){},this.converter=this.converter||new e,this.container=document.createElement("div"),this.container.classList.add("h5peditor-3d-model-loader-converter-container"),this.container.classList.add("h5peditor-3d-model-loader-display-none");var r=document.createElement("div");r.classList.add("h5peditor-3d-model-loader-converter-dropzone"),r.innerText=H5PEditor.t("H5PEditor.ThreeDModelLoader","dropFolderHere"),r.addEventListener("dragover",(function(e){i.handleDragOver(e)}),!1),r.addEventListener("drop",(function(e){i.handleDrop(e)}),!1),this.container.appendChild(r)}var i=t.prototype;return i.getDOM=function(){return this.container},i.show=function(){this.container.classList.remove("h5peditor-3d-model-loader-display-none")},i.hide=function(){this.container.classList.add("h5peditor-3d-model-loader-display-none")},i.handleDragOver=function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},i.handleDrop=function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.converter.convert(e.dataTransfer.items,(function(e){t.callback(e)}))},t}(),i=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.params=e||{},this.params.plane=this.params.plane||!1,this.callbacks=t||{},this.callbacks.onIframeComplete=t.onIframeComplete||function(){},this.iframe=this.buildIframe()}var t=e.prototype;return t.getDOM=function(){return this.iframe},t.buildIframe=function(){var e=this,t=document.createElement("iframe");return t.classList.add("h5peditor-3d-model-loader-preview-iframe"),t.addEventListener("load",(function(){e.iframeLoaded||(e.handleIframeLoaded(e.iframe),e.iframeLoaded=!0)})),t},t.handleIframeLoaded=function(e){try{var t=e.contentWindow;e.contentWindow.document.open(),e.contentWindow.document.write(this.buildHTML().outerHTML),e.contentWindow.document.close(),this.iframeDocument=e.contentDocument?e.contentDocument:t,this.handleIframeWritten()}catch(e){}},t.buildHTML=function(){var e=document.createElement("html");return e.appendChild(this.buildHeader()),e.appendChild(this.buildBody()),e},t.buildHeader=function(){var e=document.createElement("head"),t=document.createElement("script");t.text=H5P.AFrame.toString(),e.appendChild(t);var i=document.createElement("script");i.text=H5P.AFrameOrbitControls.toString(),e.appendChild(i);var r=document.createElement("script");return r.text="H5PAFrame();",r.text+="H5PAFrameOrbitControls();",e.appendChild(r),e},t.buildBody=function(){var e=document.createElement("body");return e.style.background='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TtVIqDnYQcQhSnSxIFXHUKhShQqgVWnUwufQLmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi5Oik6CIl/i8ptIj14Lgf7+497t4BQr3MNKtrAtB020wl4mImuyoGXtGDEIKIYURmljEnSUl0HF/38PH1LsqzOp/7c/SpOYsBPpF4lhmmTbxBPL1pG5z3icOsKKvE58TjJl2Q+JHrisdvnAsuCzwzbKZT88RhYrHQxkobs6KpEU8RR1RNp3wh47HKeYuzVq6y5j35C0M5fWWZ6zSHkcAiliBBhIIqSijDRpRWnRQLKdqPd/APuX6JXAq5SmDkWEAFGmTXD/4Hv7u18pMxLykUB7pfHOdjFAjsAo2a43wfO07jBPA/A1d6y1+pAzOfpNdaWuQI6N8GLq5bmrIHXO4Ag0+GbMqu5Kcp5PPA+xl9UxYYuAWCa15vzX2cPgBp6ip5AxwcAmMFyl7v8O7e9t7+PdPs7weB03KtCTN/SAAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+QGDAsAMkAVB00AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAPklEQVRIx2M8ceIEAynA1NSUJPVMDDQGoxaMWjBqwagFoxZQAzD+/fuXJA2k1h+jcTBqwagFoxaMWjAkLAAAEQ8IhUX6aEEAAAAASUVORK5CYII=")',e.style.margin="0",e.style.overflow="hidden",e.style.padding="0",e.style.height="100%",e.style.width="100%",e.appendChild(this.buildScene()),e},t.buildScene=function(){var t=document.createElement("a-scene");t.setAttribute("embedded",""),t.setAttribute("vr-mode-ui","false");var i=document.createElement("a-entity"),r=document.createElement("a-gltf-model");if(r.setAttribute("id","model"),i.appendChild(r),t.appendChild(i),this.params.plane){var n=document.createElement("a-plane");n.setAttribute("id","markerPlane"),n.setAttribute("position","".concat(e.DEFAULT_OFFSET.x," ").concat(e.DEFAULT_OFFSET.y," ").concat(e.DEFAULT_OFFSET.z)),n.setAttribute("rotation","-90 0 0"),n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("src",e.DEFAULT_TEXTURE),n.setAttribute("shadow",""),t.appendChild(n)}var o=document.createElement("a-entity");return o.setAttribute("camera",""),o.setAttribute("look-controls",""),o.setAttribute("orbit-controls","initialPosition: 0 0 2; enableKeys: false;"),t.appendChild(o),t},t.handleIframeWritten=function(){var e=this;"complete"!==this.iframeDocument.readyState?this.iframeDocument.addEventListener("readystatechange",(function(){"complete"===e.iframeDocument.readyState&&e.handleIframeCompleted()})):this.handleIframeCompleted()},t.handleIframeCompleted=function(){this.model=this.iframeDocument.querySelector("#model"),this.markerPlane=this.iframeDocument.querySelector("#markerPlane"),this.isInitialized=!0,this.callbacks.onIframeComplete()},t.show=function(){this.iframe.classList.remove("h5peditor-3d-model-loader-display-none")},t.hide=function(){this.iframe.classList.add("h5peditor-3d-model-loader-display-none")},t.setMarkerTexture=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_TEXTURE;this.isInitialized&&this.markerPlane&&this.markerPlane.setAttribute("src",t)},t.setModel=function(e,t){if(this.isInitialized)if(e){var i=document.createElement("div");H5P.setSource(i,{path:e},H5PEditor.contentId);var r=i.src;r&&(this.model.setAttribute("gltf-model",r),t&&t.scale&&this.setModelScale(t.scale),t&&t.position&&this.setModelPosition(t.position),t&&t.rotation&&this.setModelRotation(t.rotation),this.model.setAttribute("visible",!0))}else this.model.setAttribute("visible",!1)},t.setModelScale=function(e){this.isInitialized&&e&&(e=Math.max(.01,e),this.model.setAttribute("scale","".concat(e," ").concat(e," ").concat(e)))},t.setModelPosition=function(t){if(this.isInitialized&&t){var i=t.x+e.DEFAULT_OFFSET.x,r=t.y+e.DEFAULT_OFFSET.y,n=t.z+e.DEFAULT_OFFSET.z;this.model.setAttribute("position","".concat(i," ").concat(r," ").concat(n))}},t.setModelRotation=function(e){this.isInitialized&&e&&this.model.setAttribute("rotation","".concat(e.x," ").concat(e.y," ").concat(e.z))},e}();i.DEFAULT_OFFSET={x:0,y:-1,z:0},i.DEFAULT_TEXTURE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9btSoVBzOIOGSogmBBVMRRq1CECqFWaNXB5NIPoUlDkuLiKLgWHPxYrDq4OOvq4CoIgh8gTo5Oii5S4v+SQosYD4778e7e4+4dEKyVmGa1jQGabpupRFzMZFfE8Cs6EIGAEXTJzDJmJSkJ3/F1jwBf72I8y//cn6NHzVkMCIjEM8wwbeJ14qlN2+C8TyywoqwSnxOPmnRB4keuKx6/cS64HOSZgplOzRELxGKhhZUWZkVTI54kjqqaTvnBjMcq5y3OWqnCGvfkL4zk9OUlrtMcRAILWIQEEQoq2EAJNmK06qRYSNF+3Mc/4Polcink2gAjxzzK0CC7fvA/+N2tlZ8Y95IicaD9xXE+hoDwLlCvOs73sePUT4DQM3ClN/3lGjD9SXq1qUWPgN5t4OK6qSl7wOUO0P9kyKbsSiGawXweeD+jb8oCfbdA96rXW2Mfpw9AmrpK3gAHh8BwgbLXfN7d2drbv2ca/f0ARjFylR0Z2fIAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfkBgwUKTdjQ4hkAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAAxJREFUCNdj+P//PwAF/gL+3MxZ5wAAAABJRU5ErkJggg==";var r=i;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=function(){function e(e,i,n,o){var a=this;this.parent=e,this.field=i,this.params=n,this.setValue=o,this.field.threeDModelLoader=this.field.threeDModelLoader||{},this.field.threeDModelLoader.fileTypeExtensions=this.field.threeDModelLoader.fileTypeExtensions||["gltf","glb"],this.field.threeDModelLoader.geometryPath=this.field.threeDModelLoader.geometryPath||"",this.field.threeDModelLoader.planePatternPath=this.field.threeDModelLoader.planePatternPath||"",this.canPreview=-1===window.navigator.userAgent.indexOf("Trident/"),this.canConvert=-1===window.navigator.userAgent.indexOf("Trident/"),this.queue=[],this.$container=H5P.jQuery("<div>",{class:"field h5peditor-3d-model-loader-container"});var s=this.field.type;if(this.fieldInstance=new H5PEditor.widgets[s](e,i,n,o),this.fieldInstance.appendTo(this.$container),this.$errors=this.$container.children().children(".h5p-errors"),this.canPreview){this.preview=new r({plane:""!==this.field.threeDModelLoader.planePatternPath},{onIframeComplete:function(){a.handleIframeCompleted()}}),this.filePreview=this.fieldInstance.$file.get(0),this.modelPreview=document.createElement("div"),this.modelPreview.classList.add("h5peditor-3d-model-loader-preview-wrapper"),this.modelPreview.classList.add("h5peditor-3d-model-loader-display-none"),this.modelPreview.appendChild(this.preview.getDOM()),this.filePreview.parentNode.insertBefore(this.modelPreview,this.filePreview);var d=document.createElement("button");if(d.classList.add("h5peditor-3d-model-loader-button-remove-model"),d.addEventListener("click",(function(){a.fieldInstance.confirmRemovalDialog.show(H5P.jQuery(d).offset().top)})),this.fieldInstance.confirmRemovalDialog.on("confirmed",(function(){a.filePreview.classList.remove("h5peditor-3d-model-loader-display-none")})),this.modelPreview.append(d),this.field.threeDModelLoader.planePatternPath){var l=H5PEditor.findField(this.field.threeDModelLoader.planePatternPath,this.parent);l&&(l.on("removedMarkerPattern",(function(){a.preview.setMarkerTexture()})),l.on("addedMarkerPattern",(function(e){a.preview.setMarkerTexture(e.data),a.previewQueuePlane=e.data})))}}this.parent.ready((function(){if(a.canConvert){a.dropzone=a.dropzone||new t((function(e){a.handleConversionDone(e)}));var e=a.$container.get(0);e.parentNode.insertBefore(a.dropzone.getDOM(),e.nextSibling)}var i=a.field.threeDModelLoader.geometryPath;""!==a.field.threeDModelLoader.geometryPath&&(a.rowScale=H5PEditor.findField("".concat(i,"/scale"),a.parent),a.rowScale&&a.canPreview&&a.rowScale.on("changed",(function(e){a.preview.setModelScale(parseFloat(e.data.scale)/100)})),a.rowPosition=H5PEditor.findField("".concat(i,"/position"),a.parent),a.rowPosition&&a.canPreview&&a.rowPosition.on("changed",(function(e){a.preview.setModelPosition({x:parseFloat(e.data.x),y:parseFloat(e.data.y),z:parseFloat(e.data.z)})})),a.rowRotation=H5PEditor.findField("".concat(i,"/rotation"),a.parent),a.rowRotation&&a.canPreview&&a.rowRotation.on("changed",(function(e){a.preview.setModelRotation({x:parseFloat(e.data.x),y:parseFloat(e.data.y),z:parseFloat(e.data.z)})})))})),this.changes=[],this.fileIcon=document.createElement("div"),this.fileIcon.classList.add("h5peditor-3d-model-loader-file-icon"),H5PEditor.followField(this.parent,this.field.name,(function(e){if(e&&e.path){var t=e.path.split(".").pop().toLowerCase();-1!==a.field.threeDModelLoader.fileTypeExtensions.indexOf(t)&&(a.setModel(e.path),a.previewQueueModel=e.path)}else a.resetModel()})),this.fieldInstance.on("uploadProgress",(function(){a.canPreview&&(a.preview.hide(),a.modelPreview.classList.add("h5peditor-3d-model-loader-display-none")),a.resetGeometry()})),this.fieldInstance.changes.push((function(e){e?a.handleFileUploaded(e.path):a.resetModel()}))}var i=e.prototype;return i.resetGeometry=function(){[this.rowScale,this.rowPosition,this.rowRotation].forEach((function(e){e&&e.children.forEach((function(e){e.$input.val(e.field.default),e.$input.change()}))}))},i.resetModel=function(){this.canPreview&&(this.preview.setModel(),this.preview.hide(),this.modelPreview.classList.add("h5peditor-3d-model-loader-display-none")),this.resetGeometry()},i.setModel=function(e){if(this.canConvert&&this.dropzone.hide(),this.canPreview)this.filePreview.classList.add("h5peditor-3d-model-loader-display-none"),this.preview.setModel(e,this.getGeometry()),this.preview.show(),this.modelPreview.classList.remove("h5peditor-3d-model-loader-display-none");else{this.filePreview.classList.remove("h5peditor-3d-model-loader-display-none");var t=e.replace(/#tmp$/,"").split(".").pop().toLowerCase();this.showFileIcon(t)}},i.getGeometry=function(){return{scale:parseFloat(this.rowScale.children[0].$input.val())/100,position:{x:parseFloat(this.rowPosition.children[0].$input.val()),y:parseFloat(this.rowPosition.children[1].$input.val()),z:parseFloat(this.rowPosition.children[2].$input.val())},rotation:{x:parseFloat(this.rowRotation.children[0].$input.val()),y:parseFloat(this.rowRotation.children[1].$input.val()),z:parseFloat(this.rowRotation.children[2].$input.val())}}},i.handleIframeCompleted=function(){this.previewQueuePlane&&this.preview.setMarkerTexture(this.previewQueuePlane),this.previewQueueModel&&this.setModel(this.previewQueueModel)},i.handleFileUploaded=function(e){var t=this,i=e.split("#").slice(0,-1).join("#").split(".").slice(-1)[0].toLowerCase();if(-1===this.field.threeDModelLoader.fileTypeExtensions.indexOf(i))return this.$errors.append(H5PEditor.createError(H5PEditor.t("H5PEditor.ThreeDModelLoader","filetypeNotSupported"))),this.removeFile(),void(this.canConvert&&this.dropzone.hide());if("gltf"===i){var r=document.createElement("div");H5P.setSource(r,{path:e},H5PEditor.contentId);var n=r.src;try{var o=new XMLHttpRequest;o.open("GET",n),o.onreadystatechange=function(){if(4===o.readyState){try{var i=JSON.parse(o.responseText);if(!t.isGLTFVersionTwo(i))return void t.handleError(H5PEditor.t("H5PEditor.ThreeDModelLoader","onlyVersionTwo"));if(!t.isGLTFEmbeddedFormat(i))return void(t.canConvert?(t.handleError(H5PEditor.t("H5PEditor.ThreeDModelLoader","onlyEmbeddedAssets")),t.handleEmbeddedAssets()):t.handleError(H5PEditor.t("H5PEditor.ThreeDModelLoader","browserCannotConvert")))}catch(e){return void t.handleError("".concat(H5PEditor.t("H5PEditor.ThreeDModelLoader","fileDamaged")," (").concat(e,")"))}t.setModel(e)}},o.send()}catch(e){return void this.handleError("".concat(H5PEditor.t("H5PEditor.ThreeDModelLoader","fileDamaged")," (").concat(e,")"))}}else this.setModel(e)},i.handleEmbeddedAssets=function(){this.canConvert&&this.dropzone.show()},i.handleConversionDone=function(e){e.error?this.handleError("".concat(H5PEditor.t("H5PEditor.ThreeDModelLoader","conversionError")," (").concat(e.error,")")):(this.fieldInstance.upload(e.file,"foo.glb"),this.canConvert&&this.dropzone.hide())},i.isGLTFEmbeddedFormat=function(e){return!this.findObjects(e,"uri","").some((function(e){return"data:"!==e.uri.substr(0,5)}))},i.isGLTFVersionTwo=function(e){return!this.findObjects(e,"version","").some((function(e){return"1.0"===e.version}))},i.findObjects=function(e,t,i){var r=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&("object"==n(e[o])?r=r.concat(this.findObjects(e[o],t,i)):(o===t&&e[o]===i||o===t&&""===i||e[o]===i&&""===t&&-1===r.lastIndexOf(e))&&r.push(e));return r},i.handleError=function(e){this.$errors.empty(),this.$errors.append(H5PEditor.createError(e)),this.removeFile()},i.removeFile=function(){delete this.fieldInstance.params,this.fieldInstance.setValue(this.fieldInstance.field),this.fieldInstance.addFile();for(var e=0;e<this.fieldInstance.changes.length;e++)this.fieldInstance.changes[e]()},i.showFileIcon=function(e){var t=this;!function i(r){if(!((r=r||500)<=0)){var n=t.fieldInstance.$file.find("img").get(0);n?(t.fileIcon.title=e,t.fileIcon.innerText=e,n.style.display="none",t.fieldInstance.$file.find(".thumbnail").get(0).appendChild(t.fileIcon)):setTimeout((function(){i(r-20)}),20)}}()},i.appendTo=function(e){this.$container.appendTo(e)},i.validate=function(){return this.fieldInstance.validate()},i.remove=function(){this.$container.remove()},e}();H5PEditor=H5PEditor||{},H5PEditor.widgets.threeDModelLoader=o}();